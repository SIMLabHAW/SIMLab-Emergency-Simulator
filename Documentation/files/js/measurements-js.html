<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>measurements.js</title><link rel="stylesheet" type="text/css" href="../../styles/main.css" /><script type="text/javascript" src="../../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.0.2 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');" class="NDPage NDContentPage">

<a name="Functions"></a><a name="Topic185"></a><div class="CTopic TGroup LJavaScript first">
 <div class="CTitle">Functions</div>
</div>

<a name="Measurement"></a><a name="Topic186"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">Measurement</div>
 <div id="NDPrototype186" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> Measurement(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first">avgArraySize,</td><td></td><td class="last"></td></tr><tr><td class="PName first">dataArraySize,</td><td></td><td class="last"></td></tr><tr><td class="PName first">maxIdleTime&nbsp;</td><td class="PDefaultValueSeparator">=&nbsp;</td><td class="PDefaultValue last"><span class="SHNumber">3</span></td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>This function is used as a parent class. It is not meant to be initialized directly but through its inherited functions. This function is used to store and calculate the measurement data for hr, spo2, etco2 and rr.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">dataCallback</td><td class="CDLDefinition"><p>This callback function returns the expected data as soon as it is calculated (asynchronic).</p></td></tr><tr><td class="CDLEntry">avgArraySize</td><td class="CDLDefinition"><p>Defines the size of the array that stores the average values.</p></td></tr><tr><td class="CDLEntry">dataArraySize</td><td class="CDLDefinition"><p>Storesthe size of the data array for each measurement circle.</p></td></tr><tr><td class="CDLEntry">maxIdleTime</td><td class="CDLDefinition"><p>defines the maximum time in seconds that is allowed before an asystolie is diagnosed and the corresponding measurement value is updated.</p></td></tr></table></div>
</div>

<a name="Variables"></a><a name="Topic187"></a><div class="CTopic TGroup LJavaScript">
 <div class="CTitle">Variables</div>
</div>

<a name="dataArray"></a><a name="Topic188"></a><div class="CTopic TVariable LJavaScript">
 <div class="CTitle">dataArray</div>
 <div id="NDPrototype188" class="NDPrototype NoParameterForm"><span class="SHKeyword">this</span>.dataArray</div>
 <div class="CBody"><p>This variable is used to store all data-points from the graphs.</p></div>
</div>

<a name="maxIdleTime"></a><a name="Topic189"></a><div class="CTopic TVariable LJavaScript">
 <div class="CTitle">maxIdleTime</div>
 <div id="NDPrototype189" class="NDPrototype NoParameterForm"><span class="SHKeyword">this</span>.maxIdleTime</div>
 <div class="CBody"><p>This value defines the maximum time in seconds, that is allowed before an asystolie is diagnosed and the corresponding measurement value is updated.</p></div>
</div>

<a name="currentIdleTime"></a><a name="Topic190"></a><div class="CTopic TVariable LJavaScript">
 <div class="CTitle">currentIdleTime</div>
 <div id="NDPrototype190" class="NDPrototype NoParameterForm"><span class="SHKeyword">this</span>.currentIdleTime</div>
 <div class="CBody"><p>This variable is used as a counter to store the current idle time if no or low measurement values are acquired.</p></div>
</div>

<a name="globalIdleTimeCounter"></a><a name="Topic191"></a><div class="CTopic TVariable LJavaScript">
 <div class="CTitle">globalIdleTimeCounter</div>
 <div id="NDPrototype191" class="NDPrototype NoParameterForm"><span class="SHKeyword">this</span>.globalIdleTimeCounter</div>
 <div class="CBody"><p>This variable is used to compare ECG and SPO2 to e.g. react on deactivation of the ECG</p></div>
</div>

<a name="Functions(2)"></a><a name="Topic192"></a><div class="CTopic TGroup LJavaScript">
 <div class="CTitle">Functions</div>
</div>

<a name="isOverMaxIdleTime"></a><a name="Topic193"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">isOverMaxIdleTime</div>
 <div id="NDPrototype193" class="NDPrototype NoParameterForm"><span class="SHKeyword">this</span>.isOverMaxIdleTime = <span class="SHKeyword">function</span>()</div>
 <div class="CBody"><p>This function checks if the <a href="../../index.html#File:js/measurements.js:currentIdleTime" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,190);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >currentIdleTime</a> is higher then <a href="../../index.html#File:js/measurements.js:maxIdleTime" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,189);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >maxIdleTime</a>.</p><div class="CHeading">Returns</div><p>Indicator, whether <a href="../../index.html#File:js/measurements.js:currentIdleTime" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,190);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >currentIdleTime</a> is higher then <a href="../../index.html#File:js/measurements.js:maxIdleTime" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,189);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >maxIdleTime</a>.</p></div>
</div>

<a name="findMinMax"></a><a name="Topic194"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">findMinMax</div>
 <div id="NDPrototype194" class="NDPrototype NoParameterForm"><span class="SHKeyword">this</span>.findMinMax = <span class="SHKeyword">function</span>()</div>
 <div class="CBody"><p>Used to to find the min and max values of the latest measurement cycle.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">divider</td><td class="CDLDefinition"><p>Used to adapt the flexibility of the algorithm. A higher divider means that less values are found to be malformed and discarded for measurments.</p></td></tr></table><div class="CHeading">Returns</div><p>Returns an object, containing the minimum and maximum values.</p></div>
</div>

<a name="saveMinMax"></a><a name="Topic195"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">saveMinMax</div>
 <div id="NDPrototype195" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">this</span>.saveMinMax = <span class="SHKeyword">function</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">min,</td></tr><tr><td class="PName first last">max</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Stores the min and max values in the corresponding arrays.</p></div>
</div>

<a name="getGradient"></a><a name="Topic196"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">getGradient</div>
 <div id="NDPrototype196" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">this</span>.getGradient = <span class="SHKeyword">function</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">yNew,</td></tr><tr><td class="PName first last">yOld</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Calculates and returns the gradient between two values.</p></div>
</div>

<a name="getAvgMax"></a><a name="Topic197"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">getAvgMax</div>
 <div id="NDPrototype197" class="NDPrototype NoParameterForm"><span class="SHKeyword">this</span>.getAvgMax = <span class="SHKeyword">function</span>()</div>
 <div class="CBody"><p>Calculates and returns the average max-value.</p></div>
</div>

<a name="getAvgMin"></a><a name="Topic198"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">getAvgMin</div>
 <div id="NDPrototype198" class="NDPrototype NoParameterForm"><span class="SHKeyword">this</span>.getAvgMin = <span class="SHKeyword">function</span>()</div>
 <div class="CBody"><p>Calculates and returns the average min-value.</p></div>
</div>

<a name="ECGMeasurement"></a><a name="Topic199"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">ECGMeasurement</div>
 <div id="NDPrototype199" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> ECGMeasurement(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">dataCallback,</td></tr><tr><td class="PName first last">realTimePeakCallback</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Performs measurement regarding the ecg values.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">dataCallback</td><td class="CDLDefinition"><p>Contains the measured hr.</p></td></tr><tr><td class="CDLEntry">realTimePeakCallback</td><td class="CDLDefinition"><p>Indicates, that a peak was found with the latest measurement.</p></td></tr></table></div>
</div>

<a name="Variables(2)"></a><a name="Topic200"></a><div class="CTopic TGroup LJavaScript">
 <div class="CTitle">Variables</div>
</div>

<a name="lastPeakIndex"></a><a name="Topic201"></a><div class="CTopic TVariable LJavaScript">
 <div class="CTitle">lastPeakIndex</div>
 <div id="NDPrototype201" class="NDPrototype NoParameterForm"><span class="SHKeyword">var</span> lastPeakIndex</div>
 <div class="CBody"><p>Stores the last known Peak Index to have some robustness against quick repeating above-gradient-threshold ECG values. A peak is expected to occur only after lastPeakIndex + 0.2s. So a maximum of 300bpm can be detected.&nbsp; See also: <a href="../../index.html#File:js/measurements.js:checkForECGPeak" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,204);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >checkForECGPeak</a></p></div>
</div>

<a name="expectsNegativeGradient"></a><a name="Topic202"></a><div class="CTopic TVariable LJavaScript">
 <div class="CTitle">expectsNegativeGradient</div>
 <div id="NDPrototype202" class="NDPrototype NoParameterForm"><span class="SHKeyword">var</span> expectsNegativeGradient</div>
 <div class="CBody"><p>Indicates, whether a negative gradient is expected before a new peak can be detected.&nbsp; This is used for the peak detection algorithm to gain some robustness against two successing positive peaks over the gradient threshold.&nbsp; This is also used to draw the synchronization indicators on the &quot;falling edge&quot; of the peak.</p></div>
</div>

<a name="Functions(3)"></a><a name="Topic203"></a><div class="CTopic TGroup LJavaScript">
 <div class="CTitle">Functions</div>
</div>

<a name="checkForECGPeak"></a><a name="Topic204"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">checkForECGPeak</div>
 <div id="NDPrototype204" class="NDPrototype NoParameterForm"><span class="SHKeyword">function</span> checkForECGPeak()</div>
 <div class="CBody"><p>Used for the Real Time Peak Search of the ECG.</p></div>
</div>

<a name="addECGValue"></a><a name="Topic205"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">addECGValue</div>
 <div id="NDPrototype205" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">this</span>.addECGValue = <span class="SHKeyword">function</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">ecgValue</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Adds a single value to the <a href="../../index.html#File:js/measurements.js:dataArray" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,188);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >dataArray</a> and performs all necessary calculations to acquire the measurement values.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">ecgValue</td><td class="CDLDefinition"><p>Contains the latest captured value added to the ecg.</p></td></tr></table></div>
</div>

<a name="getAvgHR"></a><a name="Topic206"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">getAvgHR</div>
 <div class="CBody"><p>Calculates and returns the current average Heart-Rate.&nbsp; Median did not work properly.</p><div class="CHeading">Returns</div><p>Average HR.</p></div>
</div>

<a name="SpO2Measurement"></a><a name="Topic207"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">SpO2Measurement</div>
 <div id="NDPrototype207" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> SpO2Measurement(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">dataCallback,</td></tr><tr><td class="PName first last">realTimePeakCallback</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>For the SpO2Measurement, only the height of the function is of interest, the frequency is (normally) paired with the ECG.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">dataCallback</td><td class="CDLDefinition"><p>Hands the current measured value back to the function, where the measurement-value is needed, e.g. <a href="../../index.html#File:js/alarm-management.js:AlarmManagement" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,325);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >AlarmManagement</a>.</p></td></tr><tr><td class="CDLEntry">realTimePeakCallback</td><td class="CDLDefinition"><p>Indicates, that a peak was found on the current data point.&nbsp; This is used e.g. in the <a href="../../index.html#File:js/sound-management.js:SoundManagement" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,104);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >SoundManagement</a> to play the peak sounds.</p></td></tr></table></div>
</div>

<a name="checkForSpo2Peak"></a><a name="Topic208"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">checkForSpo2Peak</div>
 <div id="NDPrototype208" class="NDPrototype NoParameterForm"><span class="SHKeyword">function</span> checkForSpo2Peak()</div>
 <div class="CBody"><p>Used for the Real Time Peak Search of the SPO2.</p></div>
</div>

<a name="addSpO2Value"></a><a name="Topic209"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">addSpO2Value</div>
 <div id="NDPrototype209" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">this</span>.addSpO2Value = <span class="SHKeyword">function</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">spo2Value,</td></tr><tr><td class="PName first last">nibp</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Adds a single value to the <a href="../../index.html#File:js/measurements.js:dataArray" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,188);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >dataArray</a> and performs all necessary calculations to acquire the measurement values.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">spo2Value</td><td class="CDLDefinition"><p>Contains the latest captured value added to the <a href="../../index.html#File:js/traineeview.js:spo2Graph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,69);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >SPO2Graph</a>.</p></td></tr></table></div>
</div>

<a name="getAvgHRFromSPO2"></a><a name="Topic210"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">getAvgHRFromSPO2</div>
 <div id="NDPrototype210" class="NDPrototype NoParameterForm"><span class="SHKeyword">this</span>.getAvgHRFromSPO2 = <span class="SHKeyword">function</span>()</div>
 <div class="CBody"><p>Calculates and returns the latest average heartrate based on the SPO2-measurement.</p></div>
</div>

<a name="ETCO2Measurement"></a><a name="Topic211"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">ETCO2Measurement</div>
 <div id="NDPrototype211" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">function</span> ETCO2Measurement(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">dataCallback</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Responsible for everything relating to the measurement of etco2 values.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">datacallback</td><td class="CDLDefinition"><p>returns a function containing multiple parameters.</p></td></tr></table></div>
</div>

<a name="checkForIdle"></a><a name="Topic212"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">checkForIdle</div>
 <div id="NDPrototype212" class="NDPrototype NoParameterForm"><span class="SHKeyword">function</span> checkForIdle()</div>
 <div class="CBody"><p>This function is working like an peak finding algorithm put its mere purpose is to check if the SPO2 is already slow.</p><p>See also: <a href="../../index.html#File:js/measurements.js:checkForECGPeak" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,204);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >checkForECGPeak</a></p></div>
</div>

<a name="addETCO2Value"></a><a name="Topic213"></a><div class="CTopic TFunction LJavaScript">
 <div class="CTitle">addETCO2Value</div>
 <div id="NDPrototype213" class="NDPrototype WideForm CStyle"><table><tr><td class="PBeforeParameters"><span class="SHKeyword">this</span>.addETCO2Value = <span class="SHKeyword">function</span>(</td><td class="PParametersParentCell"><table class="PParameters"><tr><td class="PName first last">etco2Value</td></tr></table></td><td class="PAfterParameters">)</td></tr></table></div>
 <div class="CBody"><p>Adds a single value to the <a href="../../index.html#File:js/measurements.js:dataArray" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,188);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >dataArray</a> and performs all necessary calculations to acquire the measurement values.</p><div class="CHeading">Parameters</div><table class="CDefinitionList"><tr><td class="CDLEntry">etco2Value</td><td class="CDLDefinition"><p>Contains the latest captured value added to the <a href="../../index.html#File:js/vital-sign-graph.js:ETCO2Graph" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,97);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >ETCO2Graph</a>.</p></td></tr></table></div>
</div>

<a name="getAvgRR"></a><a name="Topic214"></a><div class="CTopic TFunction LJavaScript last">
 <div class="CTitle">getAvgRR</div>
 <div id="NDPrototype214" class="NDPrototype NoParameterForm"><span class="SHKeyword">function</span> getAvgRR()</div>
 <div class="CBody"><p>Calculates and returns the latest average respiratory rate.</p></div>
</div>

</body></html>