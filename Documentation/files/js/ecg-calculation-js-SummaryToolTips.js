NDSummary.OnToolTipsLoaded("File:js/ecg-calculation.js",{273:"<div class=\"NDToolTip TInformation LJavaScript\"><div class=\"TTSummary\">This file uses a MATLAB Implementation of a real time ECG-Calculation, by Karthik Raviprakash.&nbsp; Some of the calculations performed in this document are based on the Principle of Fourier Series as descriped in the documentation of his work (can be found in the decompressed download file). The licence file for his code can be found in the ./thirdpartylicences directory. All functions, which use parts of his code are marked as such in the documentation of the function.</div></div>",275:"<div class=\"NDToolTip TConstant LJavaScript\"><div class=\"TTSummary\">Stepsize for one simulation.</div></div>",277:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype277\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">var</span> ECGCalculation = <span class=\"SHKeyword\">function</span>()</div><div class=\"TTSummary\">Performs all necessary calculations for the ECG.</div></div>",279:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype279\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">this</span>.simTime</div><div class=\"TTSummary\">Contains the current simulation time (ranging from 0 to 60/currentHR).</div></div>",280:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype280\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">this</span>.timeSinceConfigChange</div><div class=\"TTSummary\">Stores the time since last config change.</div></div>",281:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype281\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">this</span>.currentHR</div><div class=\"TTSummary\">Contains the current calculated heart-rate.</div></div>",282:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype282\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">this</span>.currentRandHR</div><div class=\"TTSummary\">Contains the randomized HR of the current period.</div></div>",283:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype283\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">var</span> self</div><div class=\"TTSummary\">Necessary to talk to the correct &quot;this&quot;. Inner Functions provide their own &quot;this&quot;.</div></div>",284:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype284\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">var</span> timeSinceIntermediateHFChange</div><div class=\"TTSummary\">This duration is saved to keep track when to change the currentHR to another value.&nbsp; This is important to make changes always synchronized at the same time.</div></div>",285:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype285\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">var</span> latestReachedHR</div><div class=\"TTSummary\">Stores the latest reached heart-rate to be used for a dynamic change beginning at a time, where the new value is not yet reached.</div></div>",286:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype286\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">var</span> expectsPacerPeak</div><div class=\"TTSummary\">Indicates, if a pacer peak is expected. This flag is resetted once per period.</div></div>",287:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype287\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">this</span>.avBlockCounter</div><div class=\"TTSummary\">This is used for an alternative counter value used for the AV Block.</div></div>",288:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype288\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">var</span> isOffsetCalculation</div><div class=\"TTSummary\">Stores, if the Offset calculation is currently in progress. Used for calculating the P-Wave in the AV-Block.</div></div>",289:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype289\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">var</span> baselineValue</div><div class=\"TTSummary\">Used to store the intermediate baseline value to draw low bpm pqrstu-complexes and a corresponding baseline on the correct height. This is necessary, because the baseline is dependent on the bpm of the ecg. The value is therefore not constant.</div></div>",290:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype290\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">var</span> isNewMode</div><div class=\"TTSummary\">This value is used locally as a flag to see if a new mode was started. It is used to calculate the correct &quot;offset-ecg&quot; for the first value after a mode-change.</div></div>",291:"<div class=\"NDToolTip TVariable LJavaScript\"><div id=\"NDPrototype291\" class=\"NDPrototype NoParameterForm\"><span class=\"SHKeyword\">this</span>.hasNewMode</div><div class=\"TTSummary\">This value is stored as an open property to be accessed and primarily set from outside.&nbsp; Is workes in combination with isNewMode. Because it is possible to set this value, while a calculation is still ongoing, a double semaphore is used.</div></div>",293:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype293\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> calculatePWave(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">simTime,</td></tr><tr><td class=\"PName first last\">pWaveAmplitude,</td></tr><tr><td class=\"PName first last\">pWaveDuration,</td></tr><tr><td class=\"PName first last\">pWaveStartTime,</td></tr><tr><td class=\"PName first last\">hr,</td></tr><tr><td class=\"PName first last\">pWaveFactor</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">Used to calculate the pWaveValue for the current ECG value.</div></div>",294:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype294\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> calculateQWave(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">simTime,</td></tr><tr><td class=\"PName first last\">qWaveAmplitude,</td></tr><tr><td class=\"PName first last\">qWaveDuration,</td></tr><tr><td class=\"PName first last\">qWaveStartTime,</td></tr><tr><td class=\"PName first last\">hr,</td></tr><tr><td class=\"PName first last\">qWaveFactor</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">Used to calculate the qWaveValue for the current ECG value.</div></div>",295:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype295\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> calculateQRSWave(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">simTime,</td></tr><tr><td class=\"PName first last\">qrsComplexAmplitude,</td></tr><tr><td class=\"PName first last\">qrsComplexDuration,</td></tr><tr><td class=\"PName first last\">hr,</td></tr><tr><td class=\"PName first last\">qrsComplexFactor,</td></tr><tr><td class=\"PName first last\">qrsAmplitudeOffset</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">Used to calculate the qrsComplexValue for the current ECG value.</div></div>",296:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype296\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> calculateSWave(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">simTime,</td></tr><tr><td class=\"PName first last\">sWaveAmplitude,</td></tr><tr><td class=\"PName first last\">sWaveDuration,</td></tr><tr><td class=\"PName first last\">sWaveStartTime,</td></tr><tr><td class=\"PName first last\">hr,</td></tr><tr><td class=\"PName first last\">sWaveFactor</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">Used to calculate the sWaveValue for the current ECG value.</div></div>",297:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype297\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> calculateTWave(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">simTime,</td></tr><tr><td class=\"PName first last\">tWaveAmplitude,</td></tr><tr><td class=\"PName first last\">tWaveDuration,</td></tr><tr><td class=\"PName first last\">tWaveStartTime,</td></tr><tr><td class=\"PName first last\">tsWaveSeparationDuration,</td></tr><tr><td class=\"PName first last\">hr,</td></tr><tr><td class=\"PName first last\">tWaveFactor</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">Used to calculate the tWaveValue for the current ECG value.</div></div>",298:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype298\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> calculateUWave(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">simTime,</td></tr><tr><td class=\"PName first last\">uWaveAmplitude,</td></tr><tr><td class=\"PName first last\">uWaveDuration,</td></tr><tr><td class=\"PName first last\">uWaveStartTime,</td></tr><tr><td class=\"PName first last\">hr,</td></tr><tr><td class=\"PName first last\">uWaveFactor</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">Used to calculate the uWaveValue for the current ECG value.</div></div>",299:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype299\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> calculateWaveSum(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">p,</td></tr><tr><td class=\"PName first last\">q,</td></tr><tr><td class=\"PName first last\">qrs,</td></tr><tr><td class=\"PName first last\">s,</td></tr><tr><td class=\"PName first last\">t,</td></tr><tr><td class=\"PName first last\">u,</td></tr><tr><td class=\"PName first last\">pWavePreFactor,</td></tr><tr><td class=\"PName first last\">noise</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">Uses all provided parameters to calculate the current sum.</div></div>",300:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype300\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> randomize(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first\">hr,</td><td></td><td class=\"last\"></td></tr><tr><td class=\"PName first\">simTime,</td><td></td><td class=\"last\"></td></tr><tr><td class=\"PName first\">vitalSigns&nbsp;</td><td class=\"PDefaultValueSeparator\">=&nbsp;</td><td class=\"PDefaultValue last\"><span class=\"SHKeyword\">undefined</span></td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">Used to randomize the provided heart-rate. In order to do so correcly, a lot of conditions are checked.</div></div>",301:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype301\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> calculateCurrentHFValue(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">vitalSigns,</td></tr><tr><td class=\"PName first last\">changeDuration</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">In this function, the currently simulated heart-rate value is calculated.&nbsp; This function contains most of the steps necessary to simulate the dynamic change of the ECG. The calculation of the change is done with the Logistic Function</div></div>",302:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype302\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> getTimeForParameter(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">hr,</td></tr><tr><td class=\"PName first last\">param</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">Used to calculate the starting point and duration for the different ecg parts.&nbsp; This function is used to calculated improved ECG-curves by incorperating the current heart-rate. The algorithm uses a logistic function (with offset) to calculate the values.</div></div>",303:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype303\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">function</span> calculateECGValue(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first last\">vitalSigns,</td></tr><tr><td class=\"PName first last\">simTime,</td></tr><tr><td class=\"PName first last\">changeDuration,</td></tr><tr><td class=\"PName first last\">hasPacerPeak</td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">In this function, the different compartments of the ECG signal are calculated.&nbsp; Every signal-part is afterwards summed up to build one point of the ECG. The ECG is calculated every timestep seconds.</div></div>",304:"<div class=\"NDToolTip TFunction LJavaScript\"><div id=\"NDPrototype304\" class=\"NDPrototype WideForm CStyle\"><table><tr><td class=\"PBeforeParameters\"><span class=\"SHKeyword\">this</span>.calc = <span class=\"SHKeyword\">function</span>(</td><td class=\"PParametersParentCell\"><table class=\"PParameters\"><tr><td class=\"PName first\">vitalSigns,</td><td></td><td class=\"last\"></td></tr><tr><td class=\"PName first\">changeDuration,</td><td></td><td class=\"last\"></td></tr><tr><td class=\"PName first\">hasPacerPeak&nbsp;</td><td class=\"PDefaultValueSeparator\">=&nbsp;</td><td class=\"PDefaultValue last\"><span class=\"SHKeyword\">false</span></td></tr></table></td><td class=\"PAfterParameters\">)</td></tr></table></div><div class=\"TTSummary\">In this function, the current ECG-value is initiated.</div></div>"});